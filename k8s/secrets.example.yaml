# Kubernetes Secrets Configuration
# 
# ⚠️  SECURITY WARNING: This is a template file with placeholder values!
# ⚠️  DO NOT use these placeholder values in production!
# ⚠️  DO NOT commit actual secrets to Git!
# 
# Instructions:
# 1. Copy this file: cp secrets.example.yaml secrets.yaml
# 2. Replace ALL placeholder values with your actual secrets
# 3. Verify no placeholder text remains before applying
# 4. Apply to cluster: kubectl apply -f secrets.yaml
# 5. Delete or secure secrets.yaml file after applying
# 6. Verify: kubectl get secrets -n lets-connect

apiVersion: v1
kind: Secret
metadata:
  name: lets-connect-secrets
  namespace: lets-connect
type: Opaque
stringData:
  # ==================== JWT & SECURITY ====================
  # ⚠️  CRITICAL: Generate strong random secrets!
  # Generate with: openssl rand -base64 32
  # DO NOT use these placeholder values in production!
  JWT_SECRET: "CHANGEME-REPLACE-WITH-YOUR-JWT-SECRET-MIN-32-CHARS-CHANGEME"
  ENCRYPTION_KEY: "CHANGEME-REPLACE-WITH-YOUR-ENCRYPTION-KEY-MIN-32-CHARS-CHANGEME"
  
  # ==================== DATABASE ====================
  # ⚠️  CRITICAL: Use a strong password, not the placeholder!
  # For production, use managed database services (AWS RDS, Google Cloud SQL, etc.)
  # PostgreSQL connection string format: postgresql://username:password@host:port/database
  
  DATABASE_PASSWORD: "CHANGEME-REPLACE-WITH-SECURE-PASSWORD-CHANGEME"
  
  USER_DATABASE_URL: "postgresql://postgres:CHANGEME-YOUR-PASSWORD-HERE@postgres:5432/users"
  CONTENT_DATABASE_URL: "postgresql://postgres:CHANGEME-YOUR-PASSWORD-HERE@postgres:5432/content"
  MESSAGES_DATABASE_URL: "postgresql://postgres:CHANGEME-YOUR-PASSWORD-HERE@postgres:5432/messages"
  COLLABORATION_DATABASE_URL: "postgresql://postgres:CHANGEME-YOUR-PASSWORD-HERE@postgres:5432/collaboration"
  MEDIA_DATABASE_URL: "postgresql://postgres:CHANGEME-YOUR-PASSWORD-HERE@postgres:5432/media"
  SHOP_DATABASE_URL: "postgresql://postgres:CHANGEME-YOUR-PASSWORD-HERE@postgres:5432/shop"
  
  # Production example using AWS RDS:
  # USER_DATABASE_URL: "postgresql://dbuser:dbpass@lets-connect.xxxxx.us-east-1.rds.amazonaws.com:5432/users"
  
  # ==================== OBJECT STORAGE (S3) ====================
  # For development: Use MinIO (in-cluster S3-compatible storage)
  # ⚠️  Change minioadmin credentials even for development!
  S3_ACCESS_KEY: "CHANGEME-minioadmin-OR-YOUR-S3-KEY"
  S3_SECRET_KEY: "CHANGEME-minioadmin-OR-YOUR-S3-SECRET"
  S3_BUCKET: "lets-connect-media"
  S3_ENDPOINT: "http://minio:9000"
  
  # For production: Use AWS S3, Google Cloud Storage, or Azure Blob Storage
  # AWS S3 example:
  # S3_ACCESS_KEY: "AKIA..."
  # S3_SECRET_KEY: "wJalrXUtnFEMI/K7MDENG/..."
  # S3_BUCKET: "lets-connect-media-prod"
  # S3_ENDPOINT: "https://s3.amazonaws.com"
  # S3_REGION: "us-east-1"
  
  # ==================== EMAIL SERVICE (MAILGUN) ====================
  # ⚠️  Get real credentials from: https://app.mailgun.com/app/account/security/api_keys
  MAILGUN_API_KEY: "key-CHANGEME-REPLACE-WITH-YOUR-MAILGUN-API-KEY"
  MAILGUN_DOMAIN: "CHANGEME-mail.yourdomain.com"
  MAILGUN_BASE_URL: "https://api.mailgun.net"
  EMAIL_FROM: "CHANGEME-noreply@yourdomain.com"
  
  # ==================== OAUTH PROVIDERS ====================
  # Google OAuth 2.0
  # ⚠️  Get real credentials from: https://console.cloud.google.com/apis/credentials
  GOOGLE_CLIENT_ID: "CHANGEME-YOUR-GOOGLE-CLIENT-ID.apps.googleusercontent.com"
  GOOGLE_CLIENT_SECRET: "CHANGEME-YOUR-GOOGLE-CLIENT-SECRET"
  GOOGLE_REDIRECT_URI: "https://CHANGEME-yourdomain.com/oauth/google/callback"
  
  # GitHub OAuth
  # ⚠️  Get real credentials from: https://github.com/settings/developers
  GITHUB_CLIENT_ID: "CHANGEME-YOUR-GITHUB-CLIENT-ID"
  GITHUB_CLIENT_SECRET: "CHANGEME-YOUR-GITHUB-CLIENT-SECRET"
  GITHUB_REDIRECT_URI: "https://CHANGEME-yourdomain.com/oauth/github/callback"
  
  # ==================== AI SERVICE ====================
  # Gemini API Key
  # ⚠️  Get real key from: https://aistudio.google.com/app/apikey
  GEMINI_API_KEY: "CHANGEME-REPLACE-WITH-YOUR-GEMINI-API-KEY"

---
# Alternative: Use External Secrets Operator for production
# This example shows how to reference secrets from AWS Secrets Manager
# 
# apiVersion: external-secrets.io/v1beta1
# kind: ExternalSecret
# metadata:
#   name: lets-connect-secrets
#   namespace: lets-connect
# spec:
#   refreshInterval: 1h
#   secretStoreRef:
#     name: aws-secrets-manager
#     kind: SecretStore
#   target:
#     name: lets-connect-secrets
#     creationPolicy: Owner
#   data:
#   - secretKey: JWT_SECRET
#     remoteRef:
#       key: lets-connect/prod
#       property: jwt_secret
#   - secretKey: DATABASE_URL
#     remoteRef:
#       key: lets-connect/prod
#       property: database_url
#   # ... add more secrets as needed
